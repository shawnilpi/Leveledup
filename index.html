<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Shawni — Luxe Greeting Widget</title>
  <style>
    /* Luxe-Minimal Notion Widget — Elevated Version
       - Balanced white space for elegance
       - Serif heading + modern sans body
       - Date uses lighter gray, slightly smaller, to create hierarchy
       - Time: bold, monospaced numerals with muted, elevated seconds
       - Weather: refined, consistent stroke icons
       - Rounded corners + subtle shadow for depth
    */
    :root{
      --w: 320px;         /* slightly wider for breathing space */
      --h: 160px;         /* proportionally taller */
      --bg: #fff;
      --fg: #111;
      --muted: #555;
      --frame: rgba(0,0,0,0.08);
      --font-heading: "Didot", "Georgia", serif;
      --font-body: "Inter", ui-sans-serif, system-ui;
    }
    html,body{height:100%;margin:0}
    body{background:transparent;color:var(--fg)}

    .card{
      width: var(--w);
      height: var(--h);
      background: var(--bg);
      border-radius: 16px;
      position: relative;
      overflow: hidden;
      box-sizing: border-box;
      padding: 16px 18px;
      display: grid;
      grid-template-rows: auto auto 1fr;
      row-gap: 8px;
      font-family: var(--font-body);
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
    }

    /* Greeting */
    .greet{
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: 20px;
      line-height: 1.2;
      margin-right: 70px; 
      letter-spacing: 0.3px;
    }

    /* Date */
    .date{
      font-size: 13px;
      color: var(--muted);
      margin-right: 70px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      line-height: 1.3;
    }

    /* Weather block */
    .wx{ position:absolute; right:14px; top:14px; display:grid; justify-items:center; gap:6px; width:56px; }
    .wx svg{ width:28px; height:28px; stroke:#111; }
    .temp{ font-size: 12px; color:#111; font-variant-numeric: tabular-nums; letter-spacing:0.3px; }
    .deg{ font-size: 85%; vertical-align: 10%; }

    /* Clock */
    .clock-wrap{ position:relative; margin-top: 4px; }
    .clock{ display:inline-flex; align-items:baseline; gap:8px; }
    .time-main{
      font-family: var(--font-heading);
      font-weight: 600;
      font-variant-numeric: tabular-nums;
      font-size: 20px;
      letter-spacing: 1.6px;
      line-height: 1;
    }
    .colon{ opacity: 0.7; }
    .time-sec{
      font-family: var(--font-heading);
      font-weight: 500;
      font-size: 70%;
      color: var(--muted);
      transform: translateY(-2px);
      letter-spacing: 0.6px;
    }
  </style>
</head>
<body>
  <section class="card">
    <div class="greet" id="greet">Good Morning, Shawni</div>
    <div class="date" id="date">Wednesday · August 28th, 2025</div>

    <div class="wx" id="wx" aria-live="polite">
      <div id="icon" aria-label="weather icon"></div>
      <div class="temp" id="temp">—<span class="deg">°</span>F</div>
    </div>

    <div class="clock-wrap">
      <div class="clock">
        <div class="time-main" id="timeMain">00<span class="colon">:</span>00</div>
        <div class="time-sec" id="timeSec">00</div>
      </div>
    </div>
  </section>

  <script>
    const CONFIG = { name: "Shawni", timeZone: "America/Denver", lat: 32.0, lon: -106.6, weatherRefreshMs: 10*60*1000 };

    function partOfDay(h){ if(h>=5&&h<12) return "Morning"; if(h>=12&&h<17) return "Afternoon"; if(h>=17&&h<21) return "Evening"; return "Night"; }
    function ordinal(n){ const s=["th","st","nd","rd"], v=n%100; return n+(s[(v-20)%10]||s[v]||s[0]); }
    function fmtDate(d){
      const opts={ weekday:"long", month:"long", day:"numeric", year:"numeric", timeZone:CONFIG.timeZone };
      const parts=new Intl.DateTimeFormat('en-US',opts).formatToParts(d);
      const o={}; parts.forEach(p=>o[p.type]=p.value);
      const dayNum=Number(o.day); const dayStr=Number.isFinite(dayNum)?ordinal(dayNum):o.day;
      return `${o.weekday} · ${o.month} ${dayStr}, ${o.year}`;
    }

    function tick(){
      const now=new Date();
      const zoned=new Date(now.toLocaleString('en-US',{timeZone:CONFIG.timeZone}));
      const h=zoned.getHours(), m=zoned.getMinutes(), s=zoned.getSeconds();
      document.getElementById('greet').textContent=`Good ${partOfDay(h)}, ${CONFIG.name}`;
      document.getElementById('date').textContent=fmtDate(zoned);
      const hh=String(h).padStart(2,'0'), mm=String(m).padStart(2,'0'), ss=String(s).padStart(2,'0');
      document.getElementById('timeMain').innerHTML=`${hh}<span class="colon">:</span>${mm}`;
      document.getElementById('timeSec').textContent=ss;
    }

    async function fetchWeather(){
      const url=`https://api.open-meteo.com/v1/forecast?latitude=${CONFIG.lat}&longitude=${CONFIG.lon}&current=temperature_2m,weather_code&temperature_unit=fahrenheit&timezone=${encodeURIComponent(CONFIG.timeZone)}`;
      try{
        const res=await fetch(url,{cache:'no-store'}); const data=await res.json();
        const code=data?.current?.weather_code; const tempF=Math.round(data?.current?.temperature_2m);
        document.getElementById('icon').innerHTML=iconFor(code);
        document.getElementById('temp').innerHTML=`${tempF}<span class="deg">°</span>F`;
      }catch(e){console.warn('Weather fetch failed',e);}
    }

    function iconFor(code){
      const n=Number(code); const clear=[0,1], part=[2], cloudy=[3,45,48], rain=[51,53,55,56,57,61,63,65,66,67,80,81,82], snow=[71,73,75,77,85,86], storm=[95,96,99];
      if(clear.includes(n)) return sun(); if(part.includes(n)) return sunCloud(); if(cloudy.includes(n)) return cloud(); if(rain.includes(n)) return rainIcon(); if(snow.includes(n)) return snowIcon(); if(storm.includes(n)) return stormIcon(); return sun();
    }
    function sun(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><circle cx='12' cy='12' r='4'/><g stroke-linecap='round'><path d='M12 2v2M12 20v2M4 12H2M22 12h-2M5 5l1.5 1.5M17.5 17.5L19 19M5 19l1.5-1.5M17.5 6.5L19 5'/></g></svg>`}
    function cloud(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><path d='M7 18h10a4 4 0 0 0 0-8 6 6 0 0 0-11-1.5A4.5 4.5 0 0 0 7 18z'/></svg>`}
    function sunCloud(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><circle cx='7' cy='7' r='2.8'/><path d='M7 2v1.5M7 10.5V12M2 7h1.5M10.5 7H12M3.9 3.9l1 1M9.1 3.9l-1 1'/><path d='M9 18h8a3.5 3.5 0 0 0 0-7 5.5 5.5 0 0 0-10.2-1.2'/></svg>`}
    function rainIcon(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><path d='M6 16h10a4 4 0 0 0 0-8 6 6 0 0 0-11-1.5A4.5 4.5 0 0 0 6 16z'/><path d='M8 18l-1 3M12 18l-1 3M16 18l-1 3' stroke-linecap='round'/></svg>`}
    function snowIcon(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><path d='M6 16h10a4 4 0 0 0 0-8 6 6 0 0 0-11-1.5A4.5 4.5 0 0 0 6 16z'/><path d='M9 19l.5 2M12 19l.5 2M15 19l.5 2' stroke-linecap='round'/></svg>`}
    function stormIcon(){return `<svg viewBox='0 0 24 24' fill='none' stroke='black' stroke-width='1.5'><path d='M6 16h10a4 4 0 0 0 0-8 6 6 0 0 0-11-1.5A4.5 4.5 0 0 0 6 16z'/><path d='M11 17l-2 4 4-2-1 3' stroke-linecap='round'/></svg>`}

    function start(){ tick(); fetchWeather(); setInterval(tick,1000); setInterval(fetchWeather,CONFIG.weatherRefreshMs);} start();
  </script>
</body>
</html>
